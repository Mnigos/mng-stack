{"version":3,"sources":["../../../../../apps/api/src/thoughts/routers/thoughts.router.ts"],"sourcesContent":["import { Query, Router } from 'nestjs-trpc'\nimport { z } from 'zod'\n\nimport { thoughtSchema } from '../thought.schema'\n\nimport { PrismaService } from '~/config/prisma'\n\n@Router({ alias: 'thoughts' })\nexport class ThoughtsRouter {\n  constructor(private readonly prisma: PrismaService) {}\n\n  @Query({ output: z.array(thoughtSchema) })\n  all() {\n    return this.prisma.thought.findMany({\n      select: {\n        id: true,\n        content: true,\n        author: true,\n        createdAt: true,\n      },\n      orderBy: {\n        createdAt: 'desc',\n      },\n    })\n  }\n}\n"],"names":["ThoughtsRouter","constructor","prisma","all","thought","findMany","select","id","content","author","createdAt","orderBy","output","z","array","thoughtSchema","alias"],"mappings":";;;;+BAQaA;;;eAAAA;;;4BARiB;qBACZ;+BAEY;wBAEA;;;;;;;;;;AAGvB,IAAA,AAAMA,iBAAN,MAAMA;IACXC,YAAY,AAAiBC,MAAqB,CAAE;aAAvBA,SAAAA;IAAwB;IAGrDC,MAAM;QACJ,OAAO,IAAI,CAACD,MAAM,CAACE,OAAO,CAACC,QAAQ,CAAC;YAClCC,QAAQ;gBACNC,IAAI;gBACJC,SAAS;gBACTC,QAAQ;gBACRC,WAAW;YACb;YACAC,SAAS;gBACPD,WAAW;YACb;QACF;IACF;AACF;;;QAdWE,QAAQC,MAAC,CAACC,KAAK,CAACC,4BAAa;;;;;;;;QAJ9BC,OAAO"}